var clearDrawing=function(){const e=document.getElementById("bods-svg");e&&e.remove()};const parse=e=>{let t;try{t=JSON.parse(e)}catch(e){return console.error(e),{}}const n=JSON.stringify(t,null,2);return{formatted:n,parsed:JSON.parse(n)}},readFile=e=>new Promise(t=>{const n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsText(e)}),getJSON=async()=>{let e;clearDrawing();var t=document.getElementById("selectFiles").files;if(t.length<=0)e=parse(document.getElementById("result").value);else{const n=await readFile(t.item(0));e=parse(n)}visualiseData(e)},visualiseData=e=>{document.getElementById("result").value=e.formatted,BODSDagre.draw(e.parsed,document.getElementById("svg-holder"),"images",100)};window.onload=()=>{document.getElementById("svg-clear").addEventListener("click",clearDrawing,!0),document.getElementById("import").addEventListener("click",getJSON,!0),document.getElementById("draw-vis").addEventListener("click",getJSON,!0)};